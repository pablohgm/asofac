angular
  .module('app')
  .controller('AppController', ['$scope', '$state', 'Contribuyentes',
	  function($scope, $state, Contribuyentes) {

  	$scope.contribuyentes = [];

    $scope.gridOptions = {
      columnDefs: [
          { field: 'nombre' }
      ],
      enableGridMenu: true,
      enableSelectAll: true,
      exporterCsvFilename: 'myFile.csv',
      exporterPdfDefaultStyle: {fontSize: 9},
      exporterPdfTableStyle: {margin: [30, 30, 30, 30]},
      exporterPdfTableHeaderStyle: {fontSize: 10, bold: true, italics: true, color: 'red'},
      exporterPdfHeader: { text: "My Header", style: 'headerStyle' },
      exporterPdfFooter: function ( currentPage, pageCount ) {
          return { text: currentPage.toString() + ' of ' + pageCount.toString(), style: 'footerStyle' };
      },
      exporterPdfCustomFormatter: function ( docDefinition ) {
          docDefinition.styles.headerStyle = { fontSize: 22, bold: true };
          docDefinition.styles.footerStyle = { fontSize: 10, bold: true };
          return docDefinition;
      },
      exporterPdfOrientation: 'portrait',
      exporterPdfPageSize: 'LETTER',
      exporterPdfMaxGridWidth: 500,
      exporterCsvLinkElement: angular.element(document.querySelectorAll(".custom-csv-link-location")),
      onRegisterApi: function(gridApi){
          $scope.gridApi = gridApi;
      }
    };

    function init() {
        Contribuyentes.find()
        .$promise
        .then(function(results) {
            $scope.contribuyentes = results;
            $scope.gridOptions.data = results;
        });
    };

    $scope.report = function() {
        console.log('A ...');
        var link = 'data:application/pdf;base64,JVBERi0xLjMKJf////8KNiAwIG9iago8PAovVHlwZSAvRXh0R1N0YXRlCi9jYSAxCj4+CmVuZG9iago3IDAgb2JqCjw8Ci9UeXBlIC9FeHRHU3RhdGUKL0NBIDEKPj4KZW5kb2JqCjUgMCBvYmoKPDwKL1R5cGUgL1BhZ2UKL1BhcmVudCAxIDAgUgovTWVkaWFCb3ggWzAgMCA2MTIgNzkyXQovQ29udGVudHMgMyAwIFIKL1Jlc291cmNlcyA0IDAgUgo+PgplbmRvYmoKNCAwIG9iago8PAovUHJvY1NldCBbL1BERiAvVGV4dCAvSW1hZ2VCIC9JbWFnZUMgL0ltYWdlSV0KL0V4dEdTdGF0ZSA8PAovR3MxIDYgMCBSCi9HczIgNyAwIFIKPj4KL0ZvbnQgPDwKL0YxIDggMCBSCi9GMiA5IDAgUgo+Pgo+PgplbmRvYmoKMyAwIG9iago8PAovTGVuZ3RoIDEyMTUKPj4Kc3RyZWFtCjEgMCAwIC0xIDAgNzkyIGNtCjEgdwpbXSAwIGQKL0dzMSBncwovR3MyIGdzCjAgago3MCA3MC41IG0KNTg4IDcwLjUgbAovRGV2aWNlUkdCIENTCjAgMCAwIFNDTgovR3MyIGdzClMKL0RldmljZVJHQiBjcwoxIDAgMCBzY24KL0dzMSBncwpmCnEKMSAwIDAgLTEgMCA3OTIgY20KQlQKNzUgNzA5LjcyIFRkCi9GMSAxMCBUZgo8MjEyMjIzMjQ+IFRqCkVUClEKL0RldmljZVJHQiBjcwoxIDAgMCBzY24KL0dzMSBncwpmCnEKMSAwIDAgLTEgMCA3OTIgY20KQlQKMzM0LjU0OTQ1MDU0OTQ1MDUgNzA5LjcyIFRkCi9GMSAxMCBUZgo8MjUyNjIzMjcyMjI4Mjk+IFRqCkVUClEKMSB3CltdIDAgZAovR3MxIGdzCi9HczIgZ3MKMCBqCjcwLjUgNzAgbQo3MC41IDg3LjcyIGwKL0RldmljZVJHQiBDUwowIDAgMCBTQ04KL0dzMiBncwpTCjEgdwpbXSAwIGQKL0dzMSBncwovR3MyIGdzCjAgagozMzAuMDQ5NDUwNTQ5NDUwNSA3MCBtCjMzMC4wNDk0NTA1NDk0NTA1IDg3LjcyIGwKL0RldmljZVJHQiBDUwowIDAgMCBTQ04KL0dzMiBn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c2NlbnQgLTI0NAovQ2FwSGVpZ2h0IDE0NTYKL1hIZWlnaHQgMTA4Mgo+PgplbmRvYmoKMTMgMCBvYmoKPDwKL0xlbmd0aCA0MjQKPj4Kc3RyZWFtCi9DSURJbml0IC9Qcm9jU2V0IGZpbmRyZXNvdXJjZSBiZWdpbgoxMiBkaWN0IGJlZ2luCmJlZ2luY21hcAovQ0lEU3lzdGVtSW5mbyA8PAogIC9SZWdpc3RyeSAoQWRvYmUpCiAgL09yZGVyaW5nIChVQ1MpCiAgL1N1cHBsZW1lbnQgMAo+PiBkZWYKL0NNYXBOYW1lIC9BZG9iZS1JZGVudGl0eS1VQ1MgZGVmCi9DTWFwVHlwZSAyIGRlZgoxIGJlZ2luY29kZXNwYWNlcmFuZ2UKPDAwPjxmZj4KZW5kY29kZXNwYWNlcmFuZ2UKOSBiZWdpbmJmY2hhcgo8MjE+PDAwNGU+CjwyMj48MDA2MT4KPDIzPjwwMDZkPgo8MjQ+PDAwNjU+CjwyNT48MDA0Mz4KPDI2PjwwMDZmPgo8Mjc+PDAwNzA+CjwyOD48MDA2ZT4KPDI5PjwwMDc5PgplbmRiZmNoYXIKZW5kY21hcApDTWFwTmFtZSBjdXJyZW50ZGljdCAvQ01hcCBkZWZpbmVyZXNvdXJjZSBwb3AKZW5kCmVuZAoKZW5kc3RyZWFtCmVuZG9iago4IDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvQUFBQUFFK1JvYm90by1JdGFsaWMKL1N1YnR5cGUgL1RydWVUeXBlCi9Gb250RGVzY3JpcHRvciAxMiAwIFIKL0ZpcnN0Q2hhciAzMwovTGFzdENoYXIgNDEKL1dpZHRocyBbNjY4IDUxNiA4MTggNDk3IDU5NCA1MzMgNTMzIDUzMyA0NzNdCi9FbmNvZGluZyAvTWFjUm9tYW5FbmNvZGluZwovVG9Vbmljb2RlIDEzIDAgUgo+PgplbmRvYmoKMTQgMCBvYmoKPDwKL0xlbmd0aCAyNTIwCi9MZW5ndGgxIDI1MjAKPj4Kc3RyZWFtCgABAAAACgAwAEUAcGNtYXAADABcAAAArAAAACxnbHlmbMy8NAAAANgAAAMcbG9jYQTiBCIAAAP0AAAAGmhtdHgwlwQmAAAEEAAAADBoaGVhCx4FEwAABEAAAAAkbWF4cAAr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UHJvY1NldCBmaW5kcmVzb3VyY2UgYmVnaW4KMTIgZGljdCBiZWdpbgpiZWdpbmNtYXAKL0NJRFN5c3RlbUluZm8gPDwKICAvUmVnaXN0cnkgKEFkb2JlKQogIC9PcmRlcmluZyAoVUNTKQogIC9TdXBwbGVtZW50IDAKPj4gZGVmCi9DTWFwTmFtZSAvQWRvYmUtSWRlbnRpdHktVUNTIGRlZgovQ01hcFR5cGUgMiBkZWYKMSBiZWdpbmNvZGVzcGFjZXJhbmdlCjwwMD48ZmY+CmVuZGNvZGVzcGFjZXJhbmdlCjExIGJlZ2luYmZjaGFyCjwyMT48MDA0ZD4KPDIyPjwwMDc5Pgo8MjM+PDAwMjA+CjwyND48MDA0OD4KPDI1PjwwMDY1Pgo8MjY+PDAwNjE+CjwyNz48MDA2ND4KPDI4PjwwMDcyPgo8Mjk+PDAwMzE+CjwyYT48MDA2Zj4KPDJiPjwwMDY2PgplbmRiZmNoYXIKZW5kY21hcApDTWFwTmFtZSBjdXJyZW50ZGljdCAvQ01hcCBkZWZpbmVyZXNvdXJjZSBwb3AKZW5kCmVuZAoKZW5kc3RyZWFtCmVuZG9iago5IDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9CYXNlRm9udCAvQUFBQUFGK1JvYm90by1NZWRpdW0KL1N1YnR5cGUgL1RydWVUeXBlCi9Gb250RGVzY3JpcHRvciAxNSAwIFIKL0ZpcnN0Q2hhciAzMwovTGFzdENoYXIgNDMKL1dpZHRocyBbODc2IDUwNyAyNDkgNzExIDUyOSA1NDQgNTY2IDM1NiA1NjggNTY2IDM1MV0KL0VuY29kaW5nIC9NYWNSb21hbkVuY29kaW5nCi9Ub1VuaWNvZGUgMTYgMCBSCj4+CmVuZG9iagoyIDAgb2JqCjw8Ci9UeXBlIC9DYXRhbG9nCi9QYWdlcyAxIDAgUgo+PgplbmRvYmoKMSAwIG9iago8PAovVHlwZSAvUGFnZXMKL0NvdW50IDEKL0tpZHMgWzUgMCBSXQo+PgplbmRvYmoKeHJlZgowIDE3CjAwMDAwMDAwMDAgNjU1MzUgZiAKMDAwMDAwODgzOCAwMDAwMCBuIAowMDAwMDA4Nzg5IDAwMDAwIG4gCjAwMDAwMDAzNDUgMDAwMDAgbiAKMDAwMDAwMDIwNyAwMDAwMCBuIAowMDAwMDAwMTAzIDAwMDAwIG4gCjAwMDAwMDAwMTUgMDAwMDAgbiAKMDAwMDAwMDA1OSAwMDAwMCBuIAowMDAwMDA1MDI3IDAwMDAwIG4gCjAwMDAwMDg1NTUgMDAwMDAgbiAKMDAwMDAwMTYxMiAwMDAwMCBuIAowMDAwMDAxNzA3IDAwMDAwIG4gCjAwMDAwMDQzMzQgMDAwMDAgbiAKMDAwMDAwNDU1MSAwMDAwMCBuIAowMDAwMDA1MjUzIDAwMDAwIG4gCjAwMDAwMDc4NDAgMDAwMDAgbiAKMDAwMDAwODA1NiAwMDAwMCBuIAp0cmFpbGVyCjw8Ci9TaXplIDE3Ci9Sb290IDIgMCBSCi9JbmZvIDEwIDAgUgo+PgpzdGFydHhyZWYKODg5NQolJUVPRgo='
        window.open(link);
      //Contribuyentes.createReport()
      //    .$promise
      //    .then(function(response) {
      //        console.log('B ...');
      //        var file = new Blob([response], {type: 'application/pdf'});
      //        var fileURL = URL.createObjectURL(file);
      //        console.log('C ...'+fileURL);
      //        window.open(fileURL);
      //    });
    };

  	init();

  }]);
